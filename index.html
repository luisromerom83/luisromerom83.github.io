<!DOCTYPE html>
<html>
<body>
<h1>HTML DOM Events</h1>
<h2>The onclick Event</h2>

<p>The onclick event triggers a  function when an element is clicked on.</p>
<p>Click to trigger a function that will output "Hello World":</p>
<div id="demo"></div>
<div id="Index"><h1>nested</h1></div>
<div id="botones"></div>
<div id="respuesta"></div>
<button onclick="myFunction()">Click me</button>



<script>
function myFunction() {
  document.getElementById("demo").innerHTML = "Hello World";
  
  const Http = new XMLHttpRequest();
const url='https://yts.mx/api/v2/list_movies.json?quality=1080&query_term=Pirate';
Http.open("GET", url);
Http.send();
document.getElementById("botones").innerHTML=""
Http.onreadystatechange = (e) => {

  //document.getElementById("respuesta").innerHTML = Http.responseText;
  const resp=JSON.parse(Http.responseText)
  resp.data.movies.forEach((element,index) => {

resp.data.movies[index].torrents.forEach((element,indexT)=>
{
  
  document.getElementById("botones").innerHTML += "<button>" + resp.data.movies[index].title + " "+resp.data.movies[index].torrents[indexT].quality+"</button><br>";


}
)


    
  });
    
  
  
  //document.getElementById("respuesta").innerHTML = resp.data.movies[0].title;
  //console.log(Http.responseText)
}
}
</script>

</body>
</html>
